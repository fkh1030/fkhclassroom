<!DOCTYPE html>
<html lang="zh-HK">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#10b981">
    <title>é¦®siræ•™å®¤</title>
    
    <!-- App Icon -->
    <link rel="apple-touch-icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' style='background-color:%2310b981;'%3E%3Cpath d='M22 10v6M2 10l10-5 10 5-10 5z'/%3E%3Cpath d='M6 12v5c3 3 9 3 12 0v-5'/%3E%3C/svg%3E">
    <link rel="icon" type="image/png" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%2310b981' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M22 10v6M2 10l10-5 10 5-10 5z'/%3E%3Cpath d='M6 12v5c3 3 9 3 12 0v-5'/%3E%3C/svg%3E">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- React & ReactDOM -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <!-- Babel -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <style>
        .scrollbar-hide::-webkit-scrollbar { display: none; }
        .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }
        body { 
            font-family: "Microsoft JhengHei", "Heiti TC", sans-serif; 
            /* Removed overflow-hidden to allow natural scrolling */
            -webkit-tap-highlight-color: transparent;
        }



<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>iPad åŒæ­¥ç¥å™¨</title>
    <style>
        /* ç°¡å–®çš„æ’ç‰ˆï¼Œè®“ iPad ä¸Šå¥½æŒ‰ä¸€é» */
        body { font-family: sans-serif; padding: 20px; text-align: center; }
        #inputBox { width: 60%; padding: 15px; font-size: 18px; border-radius: 8px; border: 1px solid #ccc;}
        #sendBtn { padding: 15px 30px; font-size: 18px; background: #007bff; color: white; border: none; border-radius: 8px; cursor: pointer; }
        ul { list-style: none; padding: 0; text-align: left; max-width: 600px; margin: 20px auto; }
        li { background: #f8f9fa; margin: 10px 0; padding: 15px; border-radius: 8px; border-bottom: 2px solid #ddd; }
        .time { font-size: 0.8em; color: #888; float: right; }
    </style>
</head>
<body>

    <h1>ğŸ“ iPad å³æ™‚åŒæ­¥æ¿</h1>
    
    <div>
        <input type="text" id="inputBox" placeholder="è¼¸å…¥æ–‡å­—...">
        <button id="sendBtn">ç™¼é€</button>
    </div>

    <ul id="messageList">
        <li style="text-align:center; color:#999;">æ­£åœ¨é€£ç·šåˆ°è³‡æ–™åº«...</li>
    </ul>

    <script type="module">
        // 1. å¼•å…¥ Firebase å·¥å…·
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getFirestore, collection, addDoc, onSnapshot, query, orderBy, serverTimestamp } 
        from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

        // ======================================================
        // â–¼â–¼â–¼ è«‹æŠŠä½ çš„ firebaseConfig è²¼åœ¨ä¸‹é¢é€™å€‹å€å¡Šå…§ â–¼â–¼â–¼
        // ======================================================
        
        const firebaseConfig = const firebaseConfig = {
  apiKey: "AIzaSyCO2BkfLaDDFAqvD990VKk95bZCCgdh9Vs",
  authDomain: "fkhclassroom.firebaseapp.com",
  projectId: "fkhclassroom",
  storageBucket: "fkhclassroom.firebasestorage.app",
  messagingSenderId: "433418921066",
  appId: "1:433418921066:web:0a4de89349b28597519613",
  measurementId: "G-DT7PRF1RVD"
};
;

        // â–²â–²â–² è²¼ä¸ŠçµæŸ â–²â–²â–²
        // ======================================================

        // 2. å•Ÿå‹• Firebase
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        // 3. è¨­å®šæŒ‰éˆ•åŠŸèƒ½ (å¯«å…¥è³‡æ–™)
        const btn = document.getElementById('sendBtn');
        const input = document.getElementById('inputBox');

        btn.addEventListener('click', async () => {
            if(input.value.trim() === "") return;
            
            try {
                await addDoc(collection(db, "notes"), {
                    text: input.value,
                    createdAt: serverTimestamp() // ç´€éŒ„æ™‚é–“
                });
                input.value = ""; // æ¸…ç©ºè¼¸å…¥æ¡†
            } catch (error) {
                alert("ç™¼é€å¤±æ•—ï¼è«‹æª¢æŸ¥ console æˆ– firebaseConfig");
                console.error(error);
            }
        });

        // 4. è¨­å®šå³æ™‚ç›£è½ (è®€å–è³‡æ–™) - é€™å°±æ˜¯åŒæ­¥çš„é­”æ³•
        const list = document.getElementById('messageList');
        // ç›£è½ 'notes' è³‡æ–™å¤¾ï¼Œä¸¦ä¾ç…§æ™‚é–“æ’åº
        const q = query(collection(db, "notes"), orderBy("createdAt", "desc"));

        onSnapshot(q, (snapshot) => {
            list.innerHTML = ""; // æ¸…ç©ºç•«é¢
            snapshot.forEach((doc) => {
                const data = doc.data();
                const li = document.createElement('li');
                // å¦‚æœæœ‰æ™‚é–“æˆ³è¨˜å°±é¡¯ç¤ºï¼Œæ²’æœ‰å°±é¡¯ç¤ºè™•ç†ä¸­
                const timeStr = data.createdAt ? new Date(data.createdAt.seconds * 1000).toLocaleTimeString() : "...";
                
                li.innerHTML = `
                    <span>${data.text}</span>
                    <span class="time">${timeStr}</span>
                `;
                list.appendChild(li);
            });
            
            if(snapshot.empty) {
                list.innerHTML = "<li style='text-align:center'>ç›®å‰æ²’æœ‰ç•™è¨€</li>";
            }
        });
    </script>
</body>
</html>


        @keyframes fade-in-up {
          from { opacity: 0; transform: translateY(10px); }
          to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in-up { animation: fade-in-up 0.4s ease-out forwards; }
    </style>
</head>
<body class="bg-slate-50 text-slate-800">
    <div id="root" class="min-h-screen"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // --- Icons ---
        const Icon = ({ path, size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                {path}
            </svg>
        );

        const Icons = {
            Users: (p) => <Icon {...p} path={<><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M22 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></>} />,
            Shuffle: (p) => <Icon {...p} path={<><path d="M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l14.2-14.4"/><path d="M22 18h-1.4c-1.3 0-2.5-.6-3.3-1.7L3.1 1.9"/><path d="m16 2 6 6"/><path d="m2 22 6-6"/><path d="m16 22 6-6"/><path d="m2 2 6 6"/></>} />,
            Clock: (p) => <Icon {...p} path={<><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></>} />,
            Award: (p) => <Icon {...p} path={<><circle cx="12" cy="8" r="7"/><polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88"/></>} />,
            Settings: (p) => <Icon {...p} path={<><path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.47a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"/><circle cx="12" cy="12" r="3"/></>} />,
            Trash2: (p) => <Icon {...p} path={<><path d="M3 6h18"/><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"/><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"/><line x1="10" y1="11" x2="10" y2="17"/><line x1="14" y1="11" x2="14" y2="17"/></>} />,
            Save: (p) => <Icon {...p} path={<><path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"/><polyline points="17 21 17 13 7 13 7 21"/><polyline points="7 3 7 8 15 8"/></>} />,
            RefreshCw: (p) => <Icon {...p} path={<><path d="M21 2v6h-6"/><path d="M3 12a9 9 0 0 1 15-6.7L21 8"/><path d="M3 22v-6h6"/><path d="M21 12a9 9 0 0 1-15 6.7L3 16"/></>} />,
            Leaf: (p) => <Icon {...p} path={<><path d="M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z"/><path d="M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12"/></>} />,
            GraduationCap: (p) => <Icon {...p} path={<><path d="M22 10v6M2 10l10-5 10 5-10 5z"/><path d="M6 12v5c3 3 9 3 12 0v-5"/></>} />,
            Play: (p) => <Icon {...p} path={<><polygon points="5 3 19 12 5 21 5 3"/></>} />,
            Pause: (p) => <Icon {...p} path={<><rect x="6" y="4" width="4" height="16"/><rect x="14" y="4" width="4" height="16"/></>} />,
            RotateCcw: (p) => <Icon {...p} path={<><path d="M3 2v6h6"/><path d="M3 13a9 9 0 1 0 3-7.7L3 8"/></>} />,
            Plus: (p) => <Icon {...p} path={<><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></>} />,
            Minus: (p) => <Icon {...p} path={<><line x1="5" y1="12" x2="19" y2="12"/></>} />,
            Columns: (p) => <Icon {...p} path={<><rect x="3" y="3" width="18" height="18" rx="2" ry="2"/><line x1="12" y1="3" x2="12" y2="21"/></>} />,
            Rows: (p) => <Icon {...p} path={<><rect x="3" y="3" width="18" height="18" rx="2" ry="2"/><line x1="3" y1="12" x2="21" y2="12"/></>} />,
            Upload: (p) => <Icon {...p} path={<><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" y1="3" x2="12" y2="15"/></>} />,
            Image: (p) => <Icon {...p} path={<><rect x="3" y="3" width="18" height="18" rx="2" ry="2"/><circle cx="8.5" cy="8.5" r="1.5"/><polyline points="21 15 16 10 5 21"/></>} />,
            ChevronLeft: (p) => <Icon {...p} path={<><polyline points="15 18 9 12 15 6"/></>} />,
            Home: (p) => <Icon {...p} path={<><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></>} />,
        };

        const STUDENT_DB = {
         "1A01": "é™³è©©æ‚…", "1A02": "å‘¨å­æ©", "1A03": "é»ƒç´«æŸµ", "1A04": "å³ä»Ÿç´…", "1A05": "ç°¡æ€ç‘ª", "1A06": "è³´éˆºæ™¶", "1A07": "æ—ç¢§æœˆ", "1A08": "åŠ‰å‡±æ™´", "1A09": "ææ¨‚æ™´", "1A10": "è«å‡±æ·‡", "1A11": "æ½˜èŠ·ç‘¶", "1A12": "é¦¬å¸Œæ±¶", "1A13": "æº«è©©é›…", "1A14": "æº«è©©å¦®", "1A15": "è¬å°‘è™¹", "1A16": "è¶™æ•ç†™", "1A17": "ç•¢å¸†", "1A18": "è”¡å­é€²", "1A19": "é»ƒå­æ’", "1A20": "éƒ­ç‚«å¿—", "1A21": "æ—ä¿Šå®‰", "1A22": "ææ¾¤ç¿", "1A23": "æ¢æŸåŸ", "1A24": "é¦¬ç¿è€€", "1A25": "å³å“é‹’", "1A26": "æŸ¯ç››æº", "1A27": "é„§å˜‰èˆˆ", "1A28": "è‘£é‡—è‰¯", "1A29": "è¬æ‰¿ä½‘", "1A30": "è‘‰æ¢“ç¿”", "1A31": "è‘‰å¿»å–¬", "1A32": "é„­æ°æœ—", "1A33": "èŠéœ–å‡", "1M01": "é™³èŠç¶¾", "1M02": "é™³å¡ç‡Ÿ", "1M03": "é™³å‡±è•Š", "1M04": "é™³å½¥å©·", "1M05": "å‘¨èŠ·æ¨‚", "1M06": "å¼µæ¢“åƒ", "1M07": "ä½•èŠ¯è“", "1M08": "é»ƒé›²å¸Œ", "1M09": "å§šä½©èŒµ", "1M10": "ç°¡æ›‰æ±¶", "1M11": "æéº—çª", "1M12": "æè—çŸ", "1M13": "ç›§æ›‰ç³", "1M14": "èŒ…é¦¨ç¾½", "1M15": "é™³æ¨‚è", "1M16": "é»ƒæ™å¦", "1M17": "é»ƒç¬æ™´", "1M18": "åº¾å‰ä½³", "1M19": "é™³ä¿Šå‡", "1M20": "é™³éŠ˜ç…’", "1M21": "è¶™å„ª", "1M22": "é¾å¿—åŸ¹", "1M23": "è³´æŸç¿¹", "1M24": "é»å­å¸Œ", "1M25": "æ¢æ€ç€š", "1M26": "æ¢æµ©æ¬Š", "1M27": "éº¥æ™‰ç†™", "1M28": "è«å¹³åº·", "1M29": "å½­æ²›è³¢", "1M30": "è•­æŸè»’", "1M31": "å®‹å¥•ç¿°", "1M32": "è”¡å“å¤", "1R01": "é™³å¸Œç‘¤", "1R02": "é™³éŒ¦æ©", "1R03": "é™³å›é›¨", "1R04": "é™³å˜‰æ¬£", "1R05": "ç¨‹è©©çª", "1R06": "èŠå“²çœŸ", "1R07": "æ–¹å˜‰å„€", "1R08": "å­”ç‰çŠ", "1R09": "æ¢åæ¬£", "1R10": "ç›§æ€æ¾„", "1R11": "å³èŠ·æ¾„", "1R12": "æ¹¯è© ç³", "1R13": "æ¥Šç…¦è“", "1R14": "å§šè«¾æ™´", "1R15": "å¼µé‘«æ¡", "1R16": "å¼µæ¢“æ²‚", "1R17": "è”¡ä½›è±ª", "1R18": "é™³å®è£", "1R19": "å¼µæŒ¯æµ©", "1R20": "é»ƒä¿Šå‚‘", "1R21": "å½­æŸæ—", "1R22": "å²‘å­æœ—", "1R23": "é‚µéŠ˜è»’", "1R24": "å”æ•¬å¶¢", "1R25": "ç‹æ˜Šå³°", "1R26": "é»ƒæŸç¿", "1R27": "é»ƒé‹®å³°", "1R28": "æ¥Šç«£ç†™", "1R29": "æ¥Šæ‰¿æµ ", "1R30": "é‚±æ³°è³¢", "1R31": "è‘‰çš“æœ—", "1R32": "ä½™æ°å¤", "1R33": "å¼µæ—¥ç†¹", "1Y01": "é™³ç„¯æ‚ ", "1Y02": "é™³æ±¶æ€¡", "1Y03": "éƒ­å¯è¹", "1Y04": "ä½•å˜‰åµ", "1Y05": "é»ƒå¾æ¨‚æ½¼", "1Y06": "ç°¡æ™åª›", "1Y07": "æ¢é„¶é¿", "1Y08": "æ—å˜‰ç†™", "1Y09": "æ—èŠ·å½¥", "1Y10": "çŸ³æ©æ›¦", "1Y11": "æ–½æ²æ€¡", "1Y12": "è­šæ›‰æ™´", "1Y13": "é‚±æ‡¿", "1Y14": "å¶èŠ·çƒ¯", "1Y15": "å§šæ½æ©", "1Y16": "è”¡å˜‰è»’", "1Y17": "ç¨‹æ¢“é‹’", "1Y18": "æœ±é€²ç’‹", "1Y19": "æ–¹è‚‡è¬™", "1Y20": "ç¬¦å¯…", "1Y21": "ä½•æŒ¯æ¿¤", "1Y22": "é»ƒéŒ¦æ´ª", "1Y23": "åŠ‰æ˜“è‡³", "1Y24": "æå¤é™½", "1Y25": "æå˜‰è±ª", "1Y26": "å»–æœ¬æ­£", "1Y27": "å”æµ·éŸœ", "1Y28": "ç¿å† ç†™", "1Y29": "æ¸©æ–‡æ¨‚", "1Y30": "è¨±æµ©è»’", "1Y31": "ä½™å¥•è¬™", "1Y32": "è‘‰å­æš", "1Y33": "ä½™æ¢“å°¹", "1Y34": "è¢æ¢“ç¿”", "2A01": "è”¡é¦¨æ¡", "2A02": "é™³æ›‰æ¥ ", "2A03": "é™³ä¿å½¤", "2A04": "é¦®çš“ç³", "2A05": "è¨±ç´«å¦", "2A06": "é»å­è²", "2A07": "ç¾…éˆºç€…", "2A08": "æé›…çª", "2A09": "æ¢å›ç©", "2A10": "æé–æ•", "2A11": "æ¥Šç´«æ¶µ", "2A12": "å¶è©©ç³", "2A13": "é‚¢å‡±æ™´", "2A14": "è‘‰é›…æ¾„", "2A15": "ä½™æ™å½¤", "2A16": "ä½™æ¢“å¯§", "2A17": "é„­å®‰å¨œ", "2A18": "æœ±èƒ¤é’", "2A19": "æ­æ¾¤å¸Œ", "2A20": "é„­å¤©é¨", "2A21": "ä¸å®‡", "2A22": "éƒ­å­æ–‡", "2A23": "å¶æ–‡è»’", "2A24": "å¤å˜‰ç†™", "2A25": "ææŸå¸Œ", "2A26": "ç›§æŸèª ", "2A27": "å³éŒ¦åŸ¹", "2A28": "å³å¤©æœ—", "2A29": "è­šç©æ°", "2A30": "é»ƒæ¢“ç¶­", "2A31": "ä½™ç¨é§¿", "2A32": "ç¿ä¿¡éœ–", "2M01": "è”¡åšç²", "2M02": "é„’æ³³å½¤", "2M03": "é„­å˜‰æ¬£", "2M04": "æ´ªå¸Œå¦", "2M05": "æ—ä¿å¸Œ", "2M06": "åŠ‰å€©åˆ©", "2M07": "åŠ‰èŠ·æ¬£", "2M08": "é™¸æ¢“æ½¼", "2M09": "å€«å‡±æ™´", "2M10": "å³æƒ æ©", "2M11": "å­«æ¨‚", "2M12": "ç¿å˜‰ç›ˆ", "2M13": "é»ƒæ›‰æ›ˆ", "2M14": "é»ƒæ¨‚ç‘¤", "2M15": "è¢å˜‰é›¯", "2M16": "å¼µè©©ç©", "2M17": "é™³ä¿Šéœ–", "2M18": "é™³æ ¢æ–°", "2M19": "è”¡ä¸€ä¿Š", "2M20": "é„’å›éœ–", "2M21": "å‘¨æœ—åœ»", "2M22": "ä½•å˜‰ä¿Š", "2M23": "ä½•è¿…ç†™", "2M24": "é»ƒæ˜­å³¶", "2M25": "é›·ç¿”çš“", "2M26": "æé®ç†™", "2M27": "æå¥æ¸¸", "2M28": "å»–å³»é‹’", "2M29": "è­šæ²›æº", "2M30": "ç‹ä¿Šå‚‘", "2M31": "ä½™å¥é‹’", "2M32": "ä½™å¥æ—", "2M33": "é¾æ²›å®‡", "2R01": "é™³å€©æ‚ ", "2R02": "é™³æ©è““", "2R03": "å‘¨å­åµ", "2R04": "é„­å­ç³", "2R05": "è”¡æ›‰å½¤", "2R06": "ä½•å©§æŸ”", "2R07": "é»æ–‡éµ", "2R08": "æ—å˜‰å¦‚", "2R09": "åŠ‰æ¨‚ç³", "2R10": "æ—éœçª", "2R11": "æ—ç´«æ…§", "2R12": "é™¸æ›¦æ¨‚", "2R13": "å³å®›æ½¼", "2R14": "æ½˜æ¨‚è±", "2R15": "è­šèˆ’å°¹", "2R16": "è¶™å±•å„€", "2R17": "é„­ç©è¬™", "2R18": "å¼µæ¢“æœ—", "2R19": "å¼µæ¢“å€«", "2R20": "åŠ‰åšè»’", "2R21": "åŠ‰å³»å®‡", "2R22": "æ¢ä¿Šç†™", "2R23": "æ¢æ–‡ç‡Š", "2R24": "æ¢ç‘§é›„", "2R25": "æ½˜ä¸–è¬™", "2R26": "ç›¤å±•é³´", "2R27": "è˜‡æ†", "2R28": "å­«ç„Œç¨€", "2R29": "æ›¾æµ©åš", "2R30": "æ›¾éŒ¦æ·»", "2R31": "å¾æ¢“è»’", "2R32": "ä»»æ°¸åº·", "2R33": "å‘¨åº­æ¯…", "2Y01": "è”¡æ¬£å¦¤", "2Y02": "é™³å¸Œå½¤", "2Y03": "è¶™èŠ·æ¾„", "2Y04": "è”¡æ¨‚ç‘¤", "2Y05": "é¾æ¨‚å©·", "2Y06": "ç¬¦æ€æ¬£", "2Y07": "ä½•éœç‘œ", "2Y08": "è³´ç¥æ›ˆ", "2Y09": "åŠ‰é§æ™´", "2Y10": "é›·å¾·ç›ˆ", "2Y11": "æå˜‰ç¶º", "2Y12": "æå¾·ç", "2Y13": "å†¼æ¢“è¹", "2Y14": "è•­è”šæ€", "2Y15": "æ›¾é–åª›", "2Y16": "æ›¾ç©", "2Y17": "é­ç‰éº’", "2Y18": "é»ƒå§µç‘¤", "2Y19": "æ¥Šå¿ƒæ‚¦", "2Y20": "æ¥Šæ¢“æ¥ ", "2Y21": "æœçš“å¤©", "2Y22": "è‘‰æ¢“å³°", "2Y23": "é«˜å¯å³°", "2Y24": "é—œæ·¨", "2Y25": "æ—å­äº¨", "2Y26": "åŠ‰æ²›ç†¹", "2Y27": "æå˜‰éŠ˜", "2Y28": "æå­è»’", "2Y29": "åŠ‰å¥•å½¤", "2Y30": "èŒƒä¿Šåº·", "2Y31": "å±ˆåœ‹é´»", "2Y32": "ç”„æ¨‚æµ ", "2Y33": "æ¥Šä½³ç±ƒ", "2Y34": "ä½™æ™‰éŠ˜", "3A01": "å€ç§€æ€¡", "3A02": "é™³ç©èŒµ", "3A03": "è”¡ä¾éœ–", "3A04": "èŠéœ", "3A05": "é¦®ç§‹æ‚…", "3A06": "æ´ªå˜‰å’", "3A07": "æ›¾éº—è¯", "3A08": "ç¾…æ„›è«†", "3A09": "æç¾å¸Œ", "3A10": "æå°¹åµ", "3A11": "æ¢çˆ”æ–‡", "3A12": "å‘‚æµ·çª", "3A13": "å³è‹¥éœ–", "3A14": "è­šæ¢“æ™´", "3A15": "æ›¾éŠ˜è–ˆ", "3A16": "é»ƒæ›‰æ™´", "3A17": "é»ƒå“éœ", "3A18": "è¬æ›‰æ¼©", "3A19": "æ¥Šå˜‰ç©", "3A20": "æ›¾é›¯", "3A21": "å¼µèŠ·çƒ¯", "3A22": "å¼µå’è©©", "3A23": "é™³æŸç†¹", "3A24": "æ›¹å®¶ç‘‹", "3A25": "ä½•ä¿Šæ°‘", "3A26": "ææŸéœ–", "3A27": "æé…·å¤©", "3A28": "é¾æœä½³", "3A29": "å”æ¢“è»’", "3A30": "é»ƒç¥–è¬™", "3A31": "é»ƒæŸæ¿ ", "3A32": "é»ƒä¸æµ©", "3A33": "åš´æµ©è»’", "3M01": "è¶™å¿ƒæ‚…", "3M02": "è”¡åº·ç¦", "3M03": "æœ±ç¿ å½±", "3M04": "æ¢éˆå©·", "3M05": "å»–èŠ·ç¥º", "3M06": "è•­å¸Œå½¤", "3M07": "ç‹è‹¡è“", "3M08": "æ˜“å®¶çˆ", "3M09": "é™³ä¿Šæˆ", "3M10": "é™³æ¯…æœ—", "3M11": "é™³æ©æµ©", "3M12": "é„­çš“æµš", "3M13": "æœ±éŠ˜æ¾¤", "3M14": "è¤šæŸè»’", "3M15": "æ–¹æ¢“æ˜Š", "3M16": "é„ºåƒé‡Œ", "3M17": "æ—å®‡è»’", "3M18": "åŠ‰è»’æ¨‚", "3M19": "æå“è¬™", "3M20": "æ¢åº­å½°", "3M21": "æå±•ç‡Š", "3M22": "é¦¬æ¢“æ™", "3M23": "å³æ›‰å³°", "3M24": "å³æ¦®æ©", "3M25": "é¡å‘ˆç¥¥", "3M26": "ç‹ä¿Šç†™", "3M27": "ç‹æ¢“èµ«", "3M28": "è‘‰å¥•è‰¯", "3M29": "å°¹æŸæœ—", "3M30": "æ¸¸æ™ºå®‡", "3M31": "ä½™æµ©è»’", "3M32": "å®¹æ¨‚è¨€", "3R01": "é™³éº’é¦¨", "3R02": "é™³ç†±æ•", "3R03": "é„­è©©é›…", "3R04": "å¼µæ–‡ç†™", "3R05": "æ—å®¶å¯¶", "3R06": "ææ³³éœ–", "3R07": "ææ³³é ¤", "3R08": "æ¢ç¾å¿ƒ", "3R09": "æ½˜æ ©æŸ”", "3R10": "æ¥Šå­ç©", "3R11": "å¾æ•æ€¡", "3R12": "å³æƒ æ´¥", "3R13": "å³èŒµå®œ", "3R14": "è¬å­é›²", "3R15": "é™³å¤©é½Š", "3R16": "å‘¨ç‡ç£Š", "3R17": "é™³ä¿Šå®‡", "3R18": "å‘¨æŸç†¹", "3R19": "é¦®ç¿ŠåŸ", "3R20": "ä½•æ¥­é›‹", "3R21": "éŸ“æ™‰ç©", "3R22": "é»ƒé Œè»’", "3R23": "æ–¹å®¶ç†™", "3R24": "é¾”æ¢“è»’", "3R25": "æ¢å³»ç‘‹", "3R26": "ç›§æ¥šå³°", "3R27": "è€ä¿Šè¬™", "3R28": "é¦¬ç¥ºç…œ", "3R29": "å€ªè­½è±ª", "3R30": "æ½˜é…·", "3R31": "é„§æ¢“ç†™", "3R32": "é»ƒå˜‰æ¨‘", "3Y01": "è”¡ç‘©ç‘©", "3Y02": "é™³ç‘æ¬£", "3Y03": "é¾ä¿™ç’‡", "3Y04": "é¾å­å¨¸", "3Y05": "æ¢èŠ·ç³", "3Y06": "æå¿ƒç„", "3Y07": "åŠ‰ç”˜æ€æ•", "3Y08": "å”æ³³ç³", "3Y09": "è¬å©‰è“‰", "3Y10": "ç‹æ…§éˆº", "3Y11": "å¼µæ›‰æ¬£", "3Y12": "æ­é™½å®¶æ’", "3Y13": "é™³å¿—æ´‹", "3Y14": "é™³éµ¬æ™º", "3Y15": "è”¡æ™‰å¸Œ", "3Y16": "é¾å–„è¡Œ", "3Y17": "ä½•å¢éŒ¦", "3Y18": "é»ƒå† æ±¶", "3Y19": "é»å±•èª ", "3Y20": "æ—æŒ¯è»’", "3Y21": "æ—æ™¨å®‡", "3Y22": "ææ¢“è»’", "3Y23": "æé´»è¡", "3Y24": "æ¢ä¿Šè»’", "3Y25": "é¡ä¹‹æ¿ ", "3Y26": "è•­æ¾¤æ£®", "3Y27": "å­«å˜‰è€€", "3Y28": "é„§åœ‹è±", "3Y29": "é„§æœ—è¨€", "3Y30": "ç‹å˜‰éŠ˜", "3Y31": "æ¥Šå‡±å‚‘", "3Y32": "è‘‰ä½³å„„", "4A01": "å€ç¬å¹¸", "4A02": "é™³å­ç‘¤", "4A03": "é™³æ¬£æŸ”", "4A04": "é™³å®œè›", "4A05": "å¼µéŸ»æ¬£", "4A06": "æœå­éŠ£", "4A07": "æ–¹å¬Œè•¾", "4A08": "ä½•å˜‰æ·‡", "4A09": "ä½•å®‰å¨œ", "4A10": "ä½•éœç‘„", "4A11": "é»ƒå®‡æ¬£", "4A12": "é»å˜‰é¨", "4A13": "æ¢èŒµæ€¡", "4A14": "æ—æ½”é›…", "4A15": "å³æ€æ¡", "4A16": "å€ªå˜‰æ€¡", "4A17": "é»ƒæ™è““", "4A18": "è¨±éœé›¯", "4A19": "æ¥Šæ°¸ç†™", "4A20": "ä½™æ€æ¾„", "4A21": "é™³ä¿¡è¬™", "4A22": "é„­ç«‹æ™", "4A23": "å¼µæ–‡æµ©", "4A24": "ä½•æ¥ å¼º", "4A25": "åŠ‰æ‰¿ç†™", "4A26": "å»–è¬™æ¨‚", "4A27": "é¦¬å­æ™‰", "4A28": "å³å®‡è»’", "4A29": "è­šç«£éµ", "4A30": "é»ƒä¿Šèª ", "4A31": "é»ƒå¥ç¶­", "4A32": "å°¹é¡¥æœ—", "4M01": "è©©è¨€", "4M02": "å“å¸Œæ¡", "4M03": "æ–¹å¬Œè˜­", "4M04": "æ—æµ ç¨‹", "4M05": "æå“æ›ˆ", "4M06": "æç±³å˜‰", "4M07": "æ¢ç¾è³¢", "4M08": "æ—ç´«ä¾", "4M09": "ç¾…å­¸æ·±", "4M10": "æ–‡å¿ƒæ”¸", "4M11": "ä¼æ™å½¤", "4M12": "ä¼å˜‰é›¯", "4M13": "è—è©©äº", "4M14": "æå©‰æ™´", "4M15": "è˜‡å¯ç³", "4M16": "è­šé›…å¦", "4M17": "å¾é¶´æ¾„", "4M18": "é»ƒå‡±æ™´", "4M19": "é»ƒå®¶æ…§", "4M20": "é»ƒå¤©å…’", "4M21": "æ¥Šç´«æ™´", "4M22": "é™³æ”¿æµ©", "4M23": "é¦®é–ç‡ƒ", "4M24": "åŠ‰å‡±æ˜‡", "4M25": "æå“è¬™", "4M26": "æå»ºé‹’", "4M27": "æ¢å®¶è±ª", "4M28": "åŠ‰å­æº", "4M29": "ç©†å®ç©", "4M30": "æ›¾æŸçš“", "4M31": "é»ƒæ¨‚è»’", "4M32": "æ¥Šä¿Šè»’", "4R01": "é™³æ¬£è«º", "4R02": "ä½•æ€å…¶", "4R03": "æ—æ¢“çª", "4R04": "æå˜‰è‹±", "4R05": "æ¢é‹‡æ·‡", "4R06": "ç¾…ç§‹éœ", "4R07": "è˜‡çƒºåƒ‘", "4R08": "èƒ¡æ¢“æ™´", "4R09": "ä½™ç´ è³¢", "4R10": "é™³å³»å®‡", "4R11": "è¶™é–å®‡", "4R12": "è”¡å¿—è»’", "4R13": "å¾å¿—å¥", "4R14": "é¦®æ©è³œ", "4R15": "é«˜é–ç„¶", "4R16": "æ´ªæ¥·ç‡", "4R17": "é»ƒæ¨‚è»’", "4R18": "æ´ªå°šéˆ", "4R19": "æŸ¯å•Ÿæ¿¤", "4R20": "å§œå“æ¥ ", "4R21": "é»æ ¢å¸Œ", "4R22": "ææ¨‚æ–‡", "4R23": "ç¾…æ¢“è»’", "4R24": "ä¼åœ‹è€€", "4R25": "å½­æµ©æ¦®", "4R26": "å†¼åŸå›", "4R27": "ç‹å“ç¶­", "4R28": "é»ƒç¨šç¿”", "4R29": "æ¥Šç«£åš", "4R30": "ä½™ç…’è»’", "4R31": "æœ±å˜‰æ˜", "4Y01": "å€æµ©æ©", "4Y02": "é™³æ¢“å¯§", "4Y03": "é™³æ™“èŒ¹", "4Y04": "é„­æ–ç€ ", "4Y05": "é„§æ–‡æ¨‚", "4Y06": "ç¾…è²è©©", "4Y07": "ææ³³å½¤", "4Y08": "æ—æ¢“æ€¡", "4Y09": "ç”°éœæ¦†", "4Y10": "æ˜“çˆç‘¤", "4Y11": "è¶™é›¨å˜‰", "4Y12": "ç™½åšæ¶µ", "4Y13": "é™³ä¿Šç‘œ", "4Y14": "å‘¨ç…’æ¥·", "4Y15": "é¦®åˆæ²…", "4Y16": "è³€æ¢“è»’", "4Y17": "ä½•è¿ªç¬™", "4Y18": "é»é£›æ—­", "4Y19": "é»å®‡è»’", "4Y20": "æ—åŠè°", "4Y21": "ç¾…å‚²è»’", "4Y22": "æ¢åä¿Š", "4Y23": "ææµ©å®‰", "4Y24": "æ¢é Œç¥º", "4Y25": "å¸å¾’å¿—éŠ˜", "4Y26": "è•­æ¾¤éŠ˜", "4Y27": "è˜‡æ°¸æ¬Š", "4Y28": "è˜‡æ¢“æ´›", "4Y29": "å¸å¾’æ›‰æ±", "4Y30": "è­šå˜‰å ¯", "4Y31": "å‘¨æ¾é‹’", "5A01": "æœæ›‰éœ", "5A02": "å¤æ©ç¦®", "5A03": "é»å¯¶å©·", "5A04": "ææ–‡æ´", "5A05": "ææµ·æ©", "5A06": "é¦¬å‡±æ³³", "5A07": "éº¥æ²›ç¦", "5A08": "å³å®›éœ–", "5A09": "é‚µæ³³æ¬£", "5A10": "è˜‡ç´«ç‘©", "5A11": "é„§å“ç‘©", "5A12": "æ¹¯æ›‰æ™´", "5A13": "ç‹ä½©ä½©", "5A14": "é»ƒå¤©é›ª", "5A15": "æ¥Šé–ç‘¤", "5A16": "æ¥ŠèŠ·å¦", "5A17": "é¾ç©æ½¼", "5A18": "é™³å®¶æ¨‚", "5A19": "é™³æŸè±ª", "5A20": "éœç…’é”", "5A21": "é»ƒæ¾¤å³°", "5A22": "è¨±éŠ˜é”", "5A23": "æ—é‹‘å ¯", "5A24": "åŠ‰å‡±è¿…", "5A25": "åŠ‰å˜‰ç†™", "5A26": "å€ªå°šæ–‡", "5A27": "é˜®æ­£è»’", "5A28": "è­šè£•ä¿Š", "5A29": "ç‹æ¾¤æ–Œ", "5A30": "é»ƒæ–‡æ»”", "5A31": "è‘‰å­æ¥­", "5A32": "ä½™è¯å“²", "5M01": "æ­é™½å¦™æ²‚", "5M02": "è”¡æ›‰ç‚˜", "5M03": "æç§€é›¯", "5M04": "æç´«åµ", "5M05": "ç›§æ³³ç¥ˆ", "5M06": "ä¼ç¾¡æ¥¹", "5M07": "è­šæ¬£è™¹", "5M08": "å”å­è© ", "5M09": "é»ƒå­¸å¿ƒ", "5M10": "èƒ¡æ¨‚å¿ƒ", "5M11": "è¬æ›‰æ™´", "5M12": "æ¥Šå¿ƒé›¨", "5M13": "è‘‰æ³³æ£‹", "5M14": "å¼µèŠ·æ¸…", "5M15": "å¼µæ¢“æ·‡", "5M16": "é™³æ±ªéŠ˜", "5M17": "é™³æ—¥æ˜‡", "5M18": "é„’æ¢“æ¨‚", "5M19": "æ–¹æµ©éœ–", "5M20": "ä½•ä½°æ©", "5M21": "ä½•å“åŠ»", "5M22": "æå®—å‰", "5M23": "ææ±¶åŸ", "5M24": "ææ–‡åš", "5M25": "ç›§éŠ˜è¨€", "5M26": "å³å®¶å¼·", "5M27": "å³æ˜ç’Ÿ", "5M28": "æ¥Šè«¾ç†¹", "5M29": "é„§å´‡è¬™", "5M30": "æ¹¯å³»çš“", "5M31": "å¾æ¢“æ´›", "5M32": "ç‹æ¾¤æ¥ ", "5M33": "ä½™ä¿Šç”Ÿ", "5R01": "æ­èŠ·æ£‹", "5R02": "æ›¹æ›¼æ¾„", "5R03": "å‘¨æ—¨æ‚…", "5R04": "é„§å˜‰æ¬£", "5R05": "å¶å¦‚å¯¶", "5R06": "é—œç©ç¦§", "5R07": "æ—æ¨‚æ¾„", "5R08": "åŠ‰æ›‰éŸ»", "5R09": "è˜‡è¨€é›…", "5R10": "å”æµ·ç›ˆ", "5R11": "å³æ›‰éŠ…", "5R12": "é„­æµ©è¹", "5R13": "å‘¨æ–½å»¶", "5R14": "é„­è€€æ±", "5R15": "èŠæ™‰å½¥", "5R16": "é¾å®¶å¯¶", "5R17": "ç”„å¿—è»’", "5R18": "å‹ä¿Šè¯", "5R19": "æ¢ä¿Šçš“", "5R20": "æ¢å°šè¬™", "5R21": "æ¢åŸ", "5R22": "ææ¬Š", "5R23": "ç›§æ¢“æµ©", "5R24": "è«å³»è±ª", "5R25": "æ–½æ¢“å®¸", "5R26": "è­šä»²ç†™", "5R27": "è­šæ¢“ç†™", "5R28": "è­šæ¢“å‚‘", "5R29": "é»ƒæ³“æ™‰", "5R30": "ä½™å®‡åŠ›", "5Y01": "é™³æ¬£å©·", "5Y02": "æœ±æ„·æ™´", "5Y03": "å¶å¦‚ç ", "5Y04": "åŠ‰æ€ç‘œ", "5Y05": "æ¢å“ç‘©", "5Y06": "éº¥ç©å…’", "5Y07": "é¦¬éƒ—è“®", "5Y08": "å­«é›…å©·", "5Y09": "ç‹èŒèŒ", "5Y10": "è‘‰ç¾æ…§", "5Y11": "æ¥Šé–æ˜•", "5Y12": "æ¥Šé‡ä¿", "5Y13": "é™³å‡±è«¾", "5Y14": "å¾è‚‡æ¬½", "5Y15": "é¦®åœ‹å¸Œ", "5Y16": "æ¢æŸé‡—", "5Y17": "ææ¾¤æ˜", "5Y18": "å»–åº·ä¸", "5Y19": "ç›§å±•é—", "5Y20": "ç¾…æ±æ—­", "5Y21": "å­«å®‡è¬™", "5Y22": "è¬ä¿Šå‚‘", "5Y23": "è¬é€¸åµ", "5Y24": "é»ƒç„¯è¬™", "5Y25": "é»ƒæ™ºå¥", "5Y26": "ç‹æµ©ç¶¸", "5Y27": "è¬æ”¿ç‚«", "5Y28": "å¼µé‘«å®‡", "5Y29": "é„­æ¸¡è±", "6A01": "ç•¢å˜‰è«¾", "6A02": "ç¿Ÿæµ ç«¥", "6A03": "é™³å‡±æ©", "6A04": "é™³å˜‰æ‡¿", "6A05": "é™³æ ¢è¿¦", "6A06": "å¼µå‡±å©·", "6A07": "æ—æ—¥å˜‰", "6A08": "æèŠ·è•™", "6A09": "å»–ç¾çª", "6A10": "åŠ‰å˜‰çª", "6A11": "è«æ³³æ€", "6A12": "å³å¿ƒç€…", "6A13": "è­šæ³³å¦", "6A14": "é»ƒå¯¶å©·", "6A15": "å§šä¼Šçª", "6A16": "é™³æŸ„éœ–", "6A17": "é™³æ–‡è¿ª", "6A18": "é™³éŠ˜è¬™", "6A19": "ç”˜é€²ç†™", "6A20": "è³´æœ—ç†™", "6A21": "åŠ‰å˜‰å¾·", "6A22": "ææµšé—", "6A23": "å½­æ–‡æµ©", "6A24": "æ¸©è´Šè¬™", "6A25": "é»ƒæ¾¤æ³°", "6A26": "é»ƒæ ¢ç›", "6A27": "æ¥Šèª é‹’", "6A28": "åš´å®‡å¥", "6M01": "å€ç©å„€", "6M02": "é™³ç¶ºå…’", "6M03": "éœå¿ƒæ‚…", "6M04": "ææ¨‚å…’", "6M05": "å‡Œå˜‰æ­¡", "6M06": "ç›§è¨€æ©", "6M07": "éº¥ä½©å©·", "6M08": "é„§é›ªå«£", "6M09": "æœéœå©·", "6M10": "é»ƒå˜‰ç€…", "6M11": "é˜®åº·æ™´", "6M12": "ä½™æ¬£æ¡", "6M13": "é™³æ¦®é®", "6M14": "å‘¨æŸå¸Œ", "6M15": "é™³æ˜Ÿæ–‡", "6M16": "é„­å…¶åº·", "6M17": "å¼µæ¥šè¬™", "6M18": "è¶™å¿ƒä¿¡", "6M19": "æ´ªä¿Šéœ–", "6M20": "é»å®¶ç‘‹", "6M21": "æ—æ¢“ä¿Š", "6M22": "ç›§æ¢“è±«", "6M23": "è«éˆéºŸ", "6M24": "å²³æ›œè—", "6M25": "è­šé‰«éœ–", "6M26": "è­šç©è»’", "6M27": "è­šæ½¤éŠ˜", "6M28": "ç‹å¸Œå…ƒ", "6M29": "é»ƒå‡±ç†¹", "6R01": "é™³æ¬£æ·‡", "6R02": "é™³æ›‰ç’‡", "6R03": "é—œå¿ƒå®œ", "6R04": "å³ç®é‡", "6R05": "å½­æ¥šé›¯", "6R06": "é‚µå¤å¦®", "6R07": "è­šæ£®æ€¡", "6R08": "é»ƒæµ·ç‘¤", "6R09": "è‘‰å˜‰æ¬£", "6R10": "ä½™å‡±ç³", "6R11": "é™³éŸ‹ä¸", "6R12": "é‚±æ‰¿ç†™", "6R13": "æ¢å³»è±ª", "6R14": "æ¢é€¸è»’", "6R15": "æéŒ¦é‹’", "6R16": "æ–‡æ™‰ç‚", "6R17": "å³å“è¬™", "6R18": "æ–½è¿ªå‡±", "6R19": "è­šå›è±ª", "6R20": "é„§ç©è¬™", "6R21": "é»ƒæ¥šé›„", "6R22": "æ›¾æ˜Šæ¥ ", "6R23": "å¼µæ¦®æ›¦", "6Y01": "é™³è–ä¹‹", "6Y02": "é™³èŠ·æ™´", "6Y03": "é™³ç´«ç‘©", "6Y04": "æœ±å®¶å„€", "6Y05": "æå­æŸ”", "6Y06": "æ¢æ¨‚æ™", "6Y07": "é¦¬å­é›¯", "6Y08": "å³è© ä¹‹", "6Y09": "è«‡é‡‡ç›ˆ", "6Y10": "ç‹æ¢“å„’", "6Y11": "é¾æ–‡éœ", "6Y12": "åŠ‰æ¢“é¾", "6Y13": "æ¢çæ”¿", "6Y14": "æ¢å­çª", "6Y15": "è«ç«£å‡", "6Y16": "å³å“å€«", "6Y17": "å³æ©‹", "6Y18": "å±ˆå®¶ç·¯", "6Y19": "è­šå›å‚‘", "6Y20": "å°¹æ™ºåº·", "6Y21": "é»ƒæˆæ°", "6Y22": "ç¿å­è±ª", "6Y23": "æ›¾å¿—æ°", "6Y24": "é¾æ™‰"



        };

        const Card = ({ children, className = "" }) => (
            <div className={`bg-white rounded-2xl shadow-lg border border-emerald-100/50 p-6 transition-all duration-300 hover:shadow-xl hover:border-emerald-200 ${className}`}>
                {children}
            </div>
        );

        const Button = ({ onClick, children, variant = "primary", className = "", disabled = false, title = "" }) => {
            const variants = {
                primary: "bg-gradient-to-r from-emerald-500 to-green-600 text-white shadow-lg shadow-emerald-200 hover:from-emerald-600 hover:to-green-700 active:scale-95",
                secondary: "bg-white text-slate-600 border border-slate-200 hover:bg-slate-50 hover:text-slate-800 active:bg-slate-100",
                danger: "bg-red-50 text-red-500 border border-red-100 hover:bg-red-100 active:bg-red-200",
                success: "bg-gradient-to-r from-lime-500 to-green-500 text-white shadow-lg shadow-lime-200 hover:from-lime-600 hover:to-green-600 active:scale-95",
                outline: "border-2 border-emerald-500 text-emerald-600 hover:bg-emerald-50 active:bg-emerald-100",
                icon: "w-8 h-8 rounded-full flex items-center justify-center bg-white shadow-sm border border-slate-100 text-slate-500 hover:text-emerald-600 hover:border-emerald-200 transition-all hover:shadow-md"
            };

            return (
                <button
                    onClick={onClick}
                    disabled={disabled}
                    title={title}
                    className={`font-bold tracking-wide transition-all duration-200 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed disabled:shadow-none ${variants[variant]} ${variant !== 'icon' ? 'rounded-xl px-5 py-2.5' : ''} ${className}`}
                >
                    {children}
                </button>
            );
        };

        // --- Class Dashboard Component ---
        const ClassDashboard = ({ 
            classId, 
            classData, 
            onBack, 
            onUpdateClassData, 
            logo, 
            logoSize, 
            globalClassName,
            onUpdateGlobalSettings
        }) => {
            const [activeTab, setActiveTab] = useState('scores');
            
            // Ephemeral states for this session/view
            const [currentPick, setCurrentPick] = useState(null);
            const [isPicking, setIsPicking] = useState(false);
            const [groupCount, setGroupCount] = useState(4);
            const [groups, setGroups] = useState([]);
            const [timeLeft, setTimeLeft] = useState(0);
            const [timerRunning, setTimerRunning] = useState(false);
            const [timerMode, setTimerMode] = useState('countdown');
            const timerRef = useRef(null);

            const students = classData.students || [];
            const gridCols = classData.gridCols || 7;
            const gridRows = classData.gridRows || 5;
            const customClassName = classData.customClassName || classId;

            // Student Helpers
            const updateStudents = (newStudents) => {
                onUpdateClassData({ students: newStudents });
            };

            const updateScore = (id, delta) => {
                updateStudents(students.map(s => s.id === id ? { ...s, score: s.score + delta } : s));
            };

            const toggleStatus = (id) => {
                const statuses = ['present', 'late', 'absent'];
                updateStudents(students.map(s => {
                    if (s.id === id) {
                        const currentIdx = statuses.indexOf(s.status);
                        return { ...s, status: statuses[(currentIdx + 1) % 3] };
                    }
                    return s;
                }));
            };

            const handleNameChange = (id, newName) => {
                updateStudents(students.map(s => s.id === id ? { ...s, name: newName } : s));
            };

            const handleCodeChange = (id, newCode) => {
                updateStudents(students.map(s => {
                    if (s.id === id) {
                        const upperCode = newCode.toUpperCase().trim();
                        const lookupName = STUDENT_DB[upperCode];
                        return { ...s, code: newCode, name: lookupName || s.name };
                    }
                    return s;
                }));
            };

            // Grid Helpers
            const handleGridChange = (newCols, newRows) => {
                if (newCols < 1 || newRows < 1) return;
                const newTotal = newCols * newRows;
                let newStudents = [...students];
                if (newTotal > students.length) {
                    const toAdd = newTotal - students.length;
                    const lastId = students.length > 0 ? students[students.length - 1].id : 0;
                    const newItems = Array.from({ length: toAdd }, (_, i) => ({
                        id: lastId + i + 1, name: "è«‹è¼¸å…¥å§“å", code: "", score: 0, status: 'present'
                    }));
                    newStudents = [...newStudents, ...newItems];
                } else if (newTotal < students.length) {
                    newStudents = newStudents.slice(0, newTotal);
                }
                onUpdateClassData({ students: newStudents, gridCols: newCols, gridRows: newRows });
            };

            // Settings Helpers
            const handleBatchUpdate = (text) => {
                const names = text.split('\n').filter(n => n.trim() !== '');
                const newStudents = names.map((name, index) => {
                    const existing = students[index];
                    return {
                        id: index + 1,
                        name: name.trim(),
                        code: existing ? existing.code : "",
                        score: existing ? existing.score : 0,
                        status: existing ? existing.status : 'present'
                    };
                });
                updateStudents(newStudents);
                alert(`åå–®å·²æ›´æ–°ï¼Œå…± ${newStudents.length} äºº`);
            };

            // Picker Logic
            const startPick = () => {
                if (students.length === 0) return;
                setIsPicking(true);
                let counter = 0;
                const interval = setInterval(() => {
                    const randomIdx = Math.floor(Math.random() * students.length);
                    setCurrentPick(students[randomIdx]);
                    counter++;
                    if (counter > 25) {
                        clearInterval(interval);
                        setIsPicking(false);
                    }
                }, 80);
            };

            // Group Logic
            const generateGroups = () => {
                if (students.length === 0) return;
                const shuffled = [...students].sort(() => 0.5 - Math.random());
                const newGroups = Array.from({ length: groupCount }, () => []);
                shuffled.forEach((student, index) => {
                    newGroups[index % groupCount].push(student);
                });
                setGroups(newGroups);
            };

            // Timer Logic
            useEffect(() => {
                if (timerRunning && timeLeft > 0 && timerMode === 'countdown') {
                    timerRef.current = setInterval(() => setTimeLeft(t => t <= 1 ? (clearInterval(timerRef.current), setTimerRunning(false), 0) : t - 1), 1000);
                } else if (timerRunning && timerMode === 'stopwatch') {
                    timerRef.current = setInterval(() => setTimeLeft(t => t + 1), 1000);
                }
                return () => clearInterval(timerRef.current);
            }, [timerRunning, timerMode]);

            const formatTime = (seconds) => {
                const m = Math.floor(seconds / 60);
                const s = seconds % 60;
                return `${m.toString().padStart(2, '0')}:${s.toString().padStart(2, '0')}`;
            };

            // Render Sub-Components
            const renderScores = () => {
                const sortedStudents = [...students].sort((a, b) => a.id - b.id);
                const activeCount = students.filter(s => s.code && s.code.trim() !== '').length;
                return (
                    <div className="flex flex-col min-h-0">
                        {/* Control Header - Sticky Top */}
                        <div className="sticky top-0 z-30 bg-slate-50 pt-2 pb-4">
                            <div className="flex flex-col xl:flex-row justify-between items-end xl:items-center border-b border-slate-200 pb-2 gap-4">
                                <div>
                                    <h3 className="font-bold text-2xl text-slate-800 flex items-center gap-2">
                                        <Icons.Award className="text-yellow-500" /> å­¸ç”Ÿè¡¨ç¾
                                    </h3>
                                    <p className="text-slate-500 text-sm mt-1">è¼¸å…¥ç­è™Ÿ (å¦‚ 1A01) è‡ªå‹•é¡¯ç¤ºå§“å</p>
                                </div>
                                <div className="flex flex-wrap items-center gap-4">
                                    <div className="flex items-center gap-2 bg-emerald-50 text-emerald-700 px-3 py-1.5 rounded-xl font-bold shadow-sm border border-emerald-100">
                                        <Icons.Columns size={16} /> <span className="text-sm mr-1">ç›´è¡Œ: {gridCols}</span>
                                        <Button variant="icon" onClick={() => handleGridChange(gridCols - 1, gridRows)} disabled={gridCols <= 1} className="w-6 h-6 !p-0 bg-white"><Icons.Minus size={12} /></Button>
                                        <Button variant="icon" onClick={() => handleGridChange(gridCols + 1, gridRows)} disabled={gridCols >= 12} className="w-6 h-6 !p-0 bg-white"><Icons.Plus size={12} /></Button>
                                    </div>
                                    <div className="flex items-center gap-2 bg-emerald-50 text-emerald-700 px-3 py-1.5 rounded-xl font-bold shadow-sm border border-emerald-100">
                                        <Icons.Rows size={16} /> <span className="text-sm mr-1">æ©«è¡Œ: {gridRows}</span>
                                        <Button variant="icon" onClick={() => handleGridChange(gridCols, gridRows - 1)} disabled={gridRows <= 1} className="w-6 h-6 !p-0 bg-white"><Icons.Minus size={12} /></Button>
                                        <Button variant="icon" onClick={() => handleGridChange(gridCols, gridRows + 1)} disabled={gridRows >= 20} className="w-6 h-6 !p-0 bg-white"><Icons.Plus size={12} /></Button>
                                    </div>
                                    <div className="flex items-center gap-2 bg-slate-100 text-slate-600 px-4 py-1.5 rounded-xl font-bold border border-slate-200">
                                        <span className="text-sm">äººæ•¸: {activeCount}</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        {/* Classroom Body - expands naturally */}
                        <div className="bg-stone-100 rounded-2xl border-4 border-stone-200 flex flex-col relative shadow-inner mt-4">
                            <div className="flex relative items-stretch">
                                {/* Left Wall */}
                                <div className="w-12 bg-stone-200 border-r border-stone-300 flex flex-col justify-end items-center pb-16 shrink-0 shadow-[inset_-10px_0_15px_-3px_rgba(0,0,0,0.1)]">
                                    <div className="w-10 h-40 bg-amber-700 rounded-r-lg border-y-4 border-r-4 border-amber-800 shadow-lg flex items-center justify-center relative group overflow-hidden"><div className="absolute inset-0 bg-gradient-to-r from-black/20 to-transparent"></div><span className="text-amber-100 font-bold text-xl [writing-mode:vertical-rl] tracking-widest drop-shadow-md">é–€å£</span><div className="absolute right-1 top-1/2 -translate-y-1/2 w-1.5 h-3 bg-amber-200 rounded-full shadow-sm"></div></div>
                                </div>
                                
                                {/* Center Grid */}
                                <div className="flex-1 p-6 flex flex-col items-center">
                                    <div className="grid gap-3 w-full max-w-[1600px]" style={{ gridTemplateColumns: `repeat(${gridCols}, minmax(0, 1fr))` }}>
                                        {sortedStudents.map(s => (
                                            <div key={s.id} className={`relative p-2 rounded-xl border-2 transition-all duration-300 ${s.status === 'present' ? 'border-white bg-white shadow-md' : s.status === 'late' ? 'border-amber-200 bg-amber-50' : 'border-rose-200 bg-rose-50 opacity-80'}`}>
                                                <div className="flex flex-col justify-between h-full space-y-1">
                                                    <div className="flex justify-between items-center mb-1">
                                                        <span onClick={() => toggleStatus(s.id)} className="text-[10px] font-bold text-slate-400 uppercase tracking-wider bg-slate-100 px-1.5 py-0.5 rounded cursor-pointer">{s.status !== 'present' ? (s.status === 'late' ? <span className="text-amber-500">é²åˆ°</span> : <span className="text-rose-500">ç¼ºå¸­</span>) : `ID ${s.id}`}</span>
                                                        <input className="w-full ml-2 text-lg font-mono font-bold text-right text-emerald-600 border-b border-slate-200 focus:border-emerald-500 outline-none bg-transparent uppercase min-w-[3rem]" placeholder="____" value={s.code || ''} onChange={(e) => handleCodeChange(s.id, e.target.value)} />
                                                    </div>
                                                    <div className="flex-1 flex items-center justify-center py-1">
                                                        <input type="text" value={s.name} onChange={(e) => handleNameChange(s.id, e.target.value)} className="w-full font-bold text-slate-800 text-base bg-transparent border-none text-center p-0 outline-none truncate" placeholder="å§“å" />
                                                    </div>
                                                    <div className="flex items-center justify-between bg-slate-50/80 rounded-lg p-1">
                                                        <button onClick={() => updateScore(s.id, -1)} className="w-6 h-6 flex items-center justify-center rounded-md hover:bg-white text-rose-500"><Icons.Minus size={12} /></button>
                                                        <span className={`font-bold text-base ${s.score > 0 ? 'text-emerald-600' : s.score < 0 ? 'text-rose-600' : 'text-slate-300'}`}>{s.score}</span>
                                                        <button onClick={() => updateScore(s.id, 1)} className="w-6 h-6 flex items-center justify-center rounded-md hover:bg-white text-emerald-500"><Icons.Plus size={12} /></button>
                                                    </div>
                                                </div>
                                            </div>
                                        ))}
                                    </div>
                                </div>

                                {/* Right Wall */}
                                <div className="w-12 bg-stone-200 border-l border-stone-300 flex flex-col justify-center items-center py-10 shrink-0 shadow-[inset_10px_0_15px_-3px_rgba(0,0,0,0.1)]">
                                    <div className="w-full h-3/4 max-h-[600px] bg-sky-100/50 border-y-8 border-l-4 border-stone-300 flex items-center justify-center relative overflow-hidden"><div className="absolute inset-x-0 top-1/4 h-1 bg-stone-300/50"></div><div className="absolute inset-x-0 top-2/4 h-1 bg-stone-300/50"></div><div className="absolute inset-x-0 top-3/4 h-1 bg-stone-300/50"></div><span className="text-sky-700/50 font-bold text-lg [writing-mode:vertical-rl] tracking-[1em]">çª—</span></div>
                                </div>
                            </div>
                            
                            {/* Bottom Wall */}
                            <div className="h-28 bg-stone-200 border-t border-stone-300 flex items-center justify-center shrink-0 shadow-[inset_0_10px_15px_-3px_rgba(0,0,0,0.1)] z-10"><div className="relative"><div className="w-64 h-16 bg-amber-800 rounded-lg shadow-2xl border-b-8 border-r-8 border-amber-950 flex items-center justify-center text-amber-100 text-2xl font-bold tracking-widest transform translate-y-2">æ•™å¸«æ¡Œ</div><div className="absolute -top-2 left-4 w-8 h-4 bg-white/10 rounded"></div><div className="absolute -top-3 right-8 w-6 h-6 bg-slate-100 rounded-full shadow-md border border-slate-300 flex items-center justify-center text-[8px]">â˜•</div></div></div>
                        </div>
                    </div>
                );
            };

            return (
                <div className="flex flex-col min-h-screen bg-slate-50">
                    {/* Class Header - Sticky Top */}
                    <div className="sticky top-0 z-40 bg-white shadow-sm">
                        <div className="border-b px-4 py-3 flex items-center justify-between">
                            <div className="flex items-center gap-3">
                                <button onClick={onBack} className="p-2 hover:bg-slate-100 rounded-full transition-colors text-slate-500">
                                    <Icons.ChevronLeft size={24} />
                                </button>
                                <div className="bg-emerald-100 p-2 rounded-lg text-emerald-600">
                                    <Icons.GraduationCap size={24} />
                                </div>
                                <div>
                                    <h1 className="text-xl font-bold text-slate-800">{customClassName || classId}</h1>
                                    <div className="text-xs text-slate-500">{globalClassName}</div>
                                </div>
                            </div>
                            <div className="hidden md:flex items-center gap-2 text-sm text-slate-400 bg-slate-100 px-3 py-1 rounded-full">
                                <Icons.Clock size={14} />
                                <span>{new Date().toLocaleDateString()}</span>
                            </div>
                        </div>

                        {/* Nav Tabs */}
                        <div className="px-4 py-2 bg-white overflow-x-auto border-b">
                            <div className="flex gap-2 min-w-max">
                                {[
                                    { id: 'scores', label: 'å­¸ç”Ÿè¡¨ç¾', icon: Icons.Award },
                                    { id: 'picker', label: 'å¹¸é‹æŠ½ç±¤', icon: Icons.Leaf },
                                    { id: 'groups', label: 'åˆ†çµ„åŠ©æ‰‹', icon: Icons.Users },
                                    { id: 'timer', label: 'è¨ˆæ™‚å·¥å…·', icon: Icons.Clock },
                                    { id: 'settings', label: 'è¨­å®šåå–®', icon: Icons.Settings },
                                ].map(tab => (
                                    <button
                                        key={tab.id}
                                        onClick={() => setActiveTab(tab.id)}
                                        className={`flex items-center gap-2 px-4 py-2 rounded-lg font-bold text-sm transition-all ${
                                            activeTab === tab.id 
                                            ? 'bg-emerald-500 text-white shadow-md' 
                                            : 'bg-white text-slate-500 hover:bg-slate-50 border border-slate-100'
                                        }`}
                                    >
                                        <tab.icon size={16} />
                                        {tab.label}
                                    </button>
                                ))}
                            </div>
                        </div>
                    </div>

                    {/* Content Area - Natural Scrolling */}
                    <div className="p-4 md:p-6 pb-20">
                        {activeTab === 'scores' && renderScores()}
                        {activeTab === 'picker' && (
                            <div className="flex flex-col items-center justify-center h-[60vh] animate-fade-in">
                                <div className="relative mb-10">
                                    <div className={`absolute inset-0 bg-emerald-200 rounded-full blur-3xl opacity-30 transition-all duration-500 ${isPicking ? 'scale-150 opacity-50' : 'scale-100'}`}></div>
                                    <div className={`relative text-6xl md:text-8xl font-black transition-all transform duration-300 tracking-tight text-center ${isPicking ? 'scale-110 text-emerald-500' : 'scale-100 text-slate-800'}`}>
                                        {currentPick ? currentPick.name : "æº–å‚™é–‹å§‹"}
                                    </div>
                                </div>
                                <div className="flex flex-col items-center gap-6 z-10">
                                    <Button onClick={startPick} disabled={isPicking} className="px-12 py-5 text-2xl shadow-emerald-200/50 rounded-full">
                                        <Icons.Shuffle size={28} className={isPicking ? "animate-spin" : ""} /> {isPicking ? "æŠ½é¸ä¸­..." : "å¹¸é‹æŠ½ç±¤"}
                                    </Button>
                                    {currentPick && !isPicking && (
                                        <div className="flex gap-4 animate-bounce-in bg-white p-2 rounded-2xl shadow-lg border border-emerald-100">
                                            <Button variant="success" onClick={() => updateScore(currentPick.id, 1)}><Icons.Award size={20} /> åŠ åˆ†</Button>
                                            <Button variant="danger" onClick={() => updateScore(currentPick.id, -1)}>æ‰£åˆ†</Button>
                                        </div>
                                    )}
                                </div>
                            </div>
                        )}
                        {activeTab === 'groups' && (
                            <div className="space-y-8 animate-fade-in">
                                <div className="flex flex-col md:flex-row items-center justify-between gap-4 bg-white p-6 rounded-2xl border border-emerald-100 shadow-sm">
                                    <div className="flex items-center gap-4">
                                        <span className="bg-emerald-100 text-emerald-700 p-2 rounded-lg"><Icons.Users size={24}/></span>
                                        <div className="flex flex-col">
                                            <span className="font-bold text-slate-700 text-lg">åˆ†çµ„è¨­å®š</span>
                                            <span className="text-slate-500 text-sm">å°‡ {students.length} ä½å­¸ç”Ÿéš¨æ©Ÿåˆ†é…</span>
                                        </div>
                                    </div>
                                    <div className="flex items-center gap-3">
                                        <label className="font-medium text-slate-600">çµ„æ•¸:</label>
                                        <input type="number" min="2" max="12" value={groupCount} onChange={(e) => setGroupCount(Number(e.target.value))} className="w-20 p-2 border-2 border-emerald-200 rounded-xl text-center text-xl font-bold text-emerald-700 outline-none focus:border-emerald-500"/>
                                        <Button onClick={generateGroups}><Icons.RefreshCw size={20} /> ç«‹å³åˆ†çµ„</Button>
                                    </div>
                                </div>
                                <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                                    {groups.map((group, idx) => (
                                        <div key={idx} className="bg-white rounded-2xl p-5 shadow-md border border-slate-100 relative overflow-hidden">
                                            <div className="absolute top-0 right-0 w-20 h-20 bg-emerald-50 rounded-bl-full -mr-10 -mt-10"></div>
                                            <div className="relative z-10">
                                                <div className="font-bold text-xl text-emerald-800 mb-4 flex justify-between items-center">
                                                    <span>ç¬¬ {idx + 1} çµ„</span>
                                                    <span className="text-xs bg-emerald-100 text-emerald-700 px-2 py-1 rounded-full">{group.length} äºº</span>
                                                </div>
                                                <ul className="space-y-2">
                                                    {group.map(s => (
                                                        <li key={s.id} className="text-slate-600 font-medium flex items-center gap-3 bg-slate-50 p-2 rounded-lg">
                                                            <span className="w-6 h-6 rounded-full bg-white border border-emerald-200 text-xs flex items-center justify-center text-emerald-600 font-bold">{s.id}</span>
                                                            {s.name}
                                                        </li>
                                                    ))}
                                                </ul>
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        )}
                        {activeTab === 'timer' && (
                            <div className="flex flex-col items-center justify-center h-[60vh] space-y-12 animate-fade-in">
                                <div className="text-[8rem] sm:text-[10rem] font-mono font-bold tracking-tighter tabular-nums text-slate-800">
                                    {formatTime(timeLeft)}
                                </div>
                                <div className="flex gap-4 flex-wrap justify-center max-w-2xl">
                                    {[1, 3, 5, 10, 20].map(min => (
                                        <button key={min} onClick={() => startTimer(min)} className="px-6 py-2 rounded-full border-2 border-slate-200 text-slate-600 font-bold hover:border-emerald-400 hover:text-emerald-600 transition-all">
                                            {min} åˆ†
                                        </button>
                                    ))}
                                </div>
                                <div className="flex gap-6">
                                    {!timerRunning ? 
                                        <Button onClick={() => setTimerRunning(true)} variant="primary" className="w-40 py-4 text-xl rounded-full"><Icons.Play /> é–‹å§‹</Button> :
                                        <Button onClick={() => setTimerRunning(false)} variant="secondary" className="w-40 py-4 text-xl rounded-full"><Icons.Pause /> æš«åœ</Button>
                                    }
                                    <Button onClick={() => { setTimerRunning(false); setTimeLeft(0); }} variant="danger" className="w-20 py-4 rounded-full"><Icons.RotateCcw /></Button>
                                </div>
                            </div>
                        )}
                        {activeTab === 'settings' && (
                            <div className="max-w-3xl mx-auto space-y-8 animate-fade-in">
                                <Card className="border-emerald-200/60 bg-gradient-to-br from-white to-emerald-50/30">
                                    <h3 className="text-xl font-bold mb-6 flex items-center gap-3 text-emerald-800">
                                        <div className="p-2 bg-emerald-100 rounded-lg"><Icons.Settings size={24} /></div>
                                        {classId} ç­ç´šè¨­å®š
                                    </h3>
                                    <div className="space-y-6">
                                        <div>
                                            <label className="block text-sm font-bold text-slate-600 mb-2">ç­ç´šé¡¯ç¤ºåç¨±</label>
                                            <input type="text" value={customClassName || ""} onChange={(e) => onUpdateClassData({ customClassName: e.target.value })} className="w-full p-3 border-2 border-slate-200 rounded-xl focus:border-emerald-500 outline-none" placeholder={classId} />
                                        </div>
                                        <div>
                                            <label className="block text-sm font-bold text-slate-600 mb-2">å­¸ç”Ÿåå–® (æ¯è¡Œä¸€å€‹)</label>
                                            <textarea 
                                                defaultValue={students.map(s => s.name).join('\n')}
                                                onBlur={(e) => handleBatchUpdate(e.target.value)}
                                                className="w-full p-4 border-2 border-slate-200 rounded-xl h-64 font-mono text-base focus:border-emerald-500 outline-none resize-none"
                                                placeholder="ä¾‹å¦‚ï¼š&#10;å¼µå°æ˜&#10;æå¤§æ–‡"
                                            />
                                            <div className="text-xs text-slate-400 mt-2 text-right">é›¢é–‹è¼¸å…¥æ¡†è‡ªå‹•å„²å­˜</div>
                                        </div>
                                    </div>
                                </Card>
                                <Card>
                                    <h3 className="text-lg font-bold mb-4">å…¨åŸŸè¨­å®š</h3>
                                    <div>
                                        <label className="block text-sm font-bold text-slate-600 mb-2">Logo åœ–ç‰‡</label>
                                        <div className="flex items-center gap-4">
                                            {logo && <img src={logo} className="h-16 w-16 object-contain border rounded-lg" />}
                                            <label className="cursor-pointer bg-slate-100 hover:bg-slate-200 px-4 py-2 rounded-lg font-bold text-slate-600 flex items-center gap-2">
                                                <Icons.Upload size={16}/> ä¸Šå‚³
                                                <input type="file" accept="image/*" className="hidden" onChange={(e) => {
                                                    const file = e.target.files[0];
                                                    if(file){
                                                        const reader = new FileReader();
                                                        reader.onloadend = () => onUpdateGlobalSettings({ logo: reader.result });
                                                        reader.readAsDataURL(file);
                                                    }
                                                }} />
                                            </label>
                                            <input type="range" min="20" max="100" value={logoSize} onChange={(e) => onUpdateGlobalSettings({ logoSize: Number(e.target.value) })} className="w-32 accent-emerald-500" />
                                        </div>
                                    </div>
                                    <div className="mt-4">
                                        <label className="block text-sm font-bold text-slate-600 mb-2">ä¸»æ¨™é¡Œ</label>
                                        <input type="text" value={globalClassName} onChange={(e) => onUpdateGlobalSettings({ className: e.target.value })} className="w-full p-2 border rounded-lg" />
                                    </div>
                                </Card>
                            </div>
                        )}
                    </div>
                </div>
            );
        };

        const CLASS_IDS = ['1Y', '3R', '3Y', 'S4G4'];

        function App() {
            const [view, setView] = useState('home'); // 'home' | 'class'
            const [currentClassId, setCurrentClassId] = useState(null);
            
            // Global Data
            const [globalSettings, setGlobalSettings] = useState({
                className: "é¦®siræ•™å®¤",
                logo: null,
                logoSize: 40
            });

            // Per-Class Persistent Data
            const [allClassData, setAllClassData] = useState({});

            // Initialization
            useEffect(() => {
                const savedData = localStorage.getItem('classroom_tool_v3_final_data');
                if (savedData) {
                    const parsed = JSON.parse(savedData);
                    setAllClassData(parsed.allClassData || {});
                    setGlobalSettings(parsed.globalSettings || { className: "é¦®siræ•™å®¤", logo: null, logoSize: 40 });
                } else {
                    const initialData = {};
                    CLASS_IDS.forEach(id => {
                        initialData[id] = {
                            students: Array.from({ length: 35 }, (_, i) => ({ id: i + 1, name: `å­¸ç”Ÿ ${i + 1}`, code: "", score: 0, status: 'present' })),
                            gridCols: 7,
                            gridRows: 5,
                            customClassName: id
                        };
                    });
                    setAllClassData(initialData);
                }
            }, []);

            // Save on change
            useEffect(() => {
                localStorage.setItem('classroom_tool_v3_final_data', JSON.stringify({ allClassData, globalSettings }));
            }, [allClassData, globalSettings]);

            const updateClassData = (classId, updates) => {
                setAllClassData(prev => ({
                    ...prev,
                    [classId]: { ...prev[classId], ...updates }
                }));
            };

            const enterClass = (id) => {
                if (!allClassData[id]) {
                    // Initialize if missing (e.g. new version)
                    updateClassData(id, {
                        students: Array.from({ length: 35 }, (_, i) => ({ id: i + 1, name: `å­¸ç”Ÿ ${i + 1}`, code: "", score: 0, status: 'present' })),
                        gridCols: 7,
                        gridRows: 5,
                        customClassName: id
                    });
                }
                setCurrentClassId(id);
                setView('class');
            };

            // Render Home
            if (view === 'home') {
                return (
                    <div className="min-h-screen bg-slate-50 flex flex-col font-sans">
                        <header className="bg-gradient-to-r from-emerald-600 to-teal-600 text-white shadow-lg p-4">
                            <div className="container mx-auto flex items-center justify-between">
                                <div className="flex items-center gap-3">
                                    {globalSettings.logo ? (
                                        <img src={globalSettings.logo} style={{ height: globalSettings.logoSize }} className="object-contain bg-white/10 rounded-lg p-1" />
                                    ) : (
                                        <div className="bg-white/20 p-2 rounded-lg"><Icons.GraduationCap size={28} /></div>
                                    )}
                                    <h1 className="text-2xl font-bold tracking-tight">{globalSettings.className}</h1>
                                </div>
                                <div className="text-sm bg-white/20 px-3 py-1 rounded-full">{new Date().toLocaleDateString()}</div>
                            </div>
                        </header>
                        <main className="flex-1 container mx-auto p-4 md:p-8 flex items-center justify-center">
                            <div className="grid grid-cols-1 md:grid-cols-2 gap-6 w-full max-w-4xl">
                                {CLASS_IDS.map(id => (
                                    <button 
                                        key={id} 
                                        onClick={() => enterClass(id)}
                                        className="bg-white hover:bg-emerald-50 border-2 border-emerald-100 hover:border-emerald-400 rounded-3xl p-8 flex flex-col items-center justify-center gap-4 shadow-lg hover:shadow-xl transition-all group h-64"
                                    >
                                        <div className="bg-emerald-100 text-emerald-600 p-6 rounded-full group-hover:scale-110 transition-transform">
                                            <Icons.Users size={48} />
                                        </div>
                                        <div className="text-4xl font-black text-slate-700 group-hover:text-emerald-700">
                                            {allClassData[id]?.customClassName || id}
                                        </div>
                                        <div className="text-slate-400 font-medium">
                                            é»æ“Šé€²å…¥ç­ç´šå„€è¡¨æ¿
                                        </div>
                                    </button>
                                ))}
                            </div>
                        </main>
                        <footer className="text-center p-6 text-slate-400 text-xs">
                            Â© {new Date().getFullYear()} é¦®siræ•™å®¤ç®¡ç†å·¥å…· (v3.0 Multi-Class)
                        </footer>
                    </div>
                );
            }

            // Render Class Dashboard
            return (
                <ClassDashboard 
                    classId={currentClassId}
                    classData={allClassData[currentClassId] || {}}
                    onBack={() => setView('home')}
                    onUpdateClassData={(updates) => updateClassData(currentClassId, updates)}
                    logo={globalSettings.logo}
                    logoSize={globalSettings.logoSize}
                    globalClassName={globalSettings.className}
                    onUpdateGlobalSettings={(settings) => setGlobalSettings(prev => ({ ...prev, ...settings }))}
                />
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>